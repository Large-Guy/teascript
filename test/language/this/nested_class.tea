class Outer 
{
    new() {}
    function method() 
    {
        print(self) // expect: <Outer instance>

        function f() 
        {
            print(self) // expect: <Outer instance>

            class Inner 
            {
                new() {}
                function method() 
                {
                    print(self) // expect: <Inner instance>
                }
            }

            Inner.new().method()
        }
        f()
    }
}

Outer.new().method()
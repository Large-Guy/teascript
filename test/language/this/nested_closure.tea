class Foo 
{
    getClosure() 
    {
        function f() 
        {
            function g() 
            {
                function h() 
                {
                    return self.toString()
                }
                return h
            }
            return g
        }
        return f
    }

    toString() { return "Foo" }
}

var closure = Foo.new().getClosure()
print(closure()()()) // expect: Foo
